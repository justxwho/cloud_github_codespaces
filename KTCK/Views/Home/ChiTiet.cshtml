
@{
    ViewBag.Title = "ChiTiet";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

@model KTCK.Models.NongSan

<style>
    .img-wrapper {
        height: 220px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #fff;
        border-bottom: 1px solid #f0f0f0;
        overflow: hidden;
        padding: 10px;
    }

        .img-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

</style>
<div class="container mt-4">

    <div class="row">
        <!-- Ảnh chính -->
        <div class="col-md-4">
            <img src="~/Content/Hinhanh/Hinhanh/@Model.HinhDaiDien"
                 class="img-fluid border mb-3" />

            <!-- Ảnh nhỏ -->
            <div class="d-flex">
                @{
                    var imgs = Model.DSHinh.Split(',');
                    foreach (var img in imgs)
                    {
                        <img src="~/Content/Hinhanh/Hinhanh/@img.Trim()"
                             width="70" class="me-2 border" />
                    }
                }
            </div>
        </div>

        <!-- Thông tin -->
        <div class="col-md-8">
            <h2>@Model.TenSP</h2>
            <h4 class="text-danger">@String.Format("{0:n0} VND", Model.DonGia)</h4>

            <p><b>Nhà sản xuất:</b> @Model.NhaSanXuat</p>
            <p><b>Mã sản phẩm:</b> @Model.idSP</p>

            <p><b>Giao hàng tại các tỉnh:</b></p>
            <ul>
                @foreach (var tinh in ViewBag.TinhGiaoHang)
                {
                    <li>@tinh</li>
                }
            </ul>

            <div class="d-flex mt-3">
                <input type="number" value="1" class="form-control w-25 me-3" />
                <a href="@Url.Action("ThemGioHang","Home", new { id = Model.idSP.Trim() })"
                   class="btn btn-success btn-sm">
                    Mua hàng
                </a>
            </div>
        </div>
    </div>

    <!-- Mô tả -->
    <div class="mt-4">
        <h4 class="text-success">Mô tả</h4>
        <p>@Model.MoTa</p>
    </div>

    <!-- Sản phẩm liên quan -->
    <div class="mt-5">
        <h4 class="text-success">Sản phẩm liên quan</h4>
        <div class="row mt-3">
            @foreach (var item in ViewBag.LienQuan)
            {
            <div class="col-md-3 mb-3 text-center">
                <div class="img-wrapper">
                    <img src="~/Content/Hinhanh/Hinhanh/@item.HinhDaiDien" alt="@item.HinhDaiDien" />
                </div>
                <p>@item.TenSP</p>
                <p class="text-danger">@String.Format("{0:n0} VND", item.DonGia)</p>
                <div class="d-flex justify-content-between align-items-center px-3 p-2">
                    <a href="@Url.Action("ChiTiet", "Home", new { id = item.idSP.Trim() })" class="btn btn-primary btn-sm">
                        Xem chi tiết
                    </a>
                    <a href="@Url.Action("ThemGioHang","Home", new { id = item.idSP.Trim() })"
                       class="btn btn-success btn-sm">
                        Mua hàng
                    </a>

                </div>
            </div>
            }
        </div>
    </div>

</div>


